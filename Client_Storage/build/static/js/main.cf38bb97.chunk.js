(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{54:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(22),l=n.n(i),c=n(4),r=n.n(c),o=n(5),h=n(8),d=n(9),u=n(3),j=n(11),p=n(10),b=n(6),m=n.n(b),g=(n(50),n(7)),O=n.n(g),f=(n(54),n(23)),x=n.n(f),v=n(24),y=n(26),S=n(0),F=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onFileChange=function(e){a.setState({selectedFile:e.target.files[0]})},a.onFileUpload=function(){var e=new FormData;e.append("myFile",a.state.selectedFile,a.state.selectedFile.name),console.log(a.state.selectedFile);var t=a.props.uname;m.a.post("http://54.82.44.30:5000/uploadFile/"+t,e).then((function(e){console.log(e),e.data.success&&(a.setState({uploaded:!0}),a.getFiles())})).catch((function(e){console.error("There was an error!",e)}))},a.state={data:null,timeZone:"UTC",selectedFile:null,uploaded:!1,deleted:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getFiles(),this.setState({timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})}},{key:"getFiles",value:function(){var e=this;console.log("files being called");var t=this.props.uname;m.a.get("http://54.82.44.30:5000/getContent/"+t).then((function(t){console.log(t.data),e.setState({data:t.data})})).catch((function(e){console.error("Error in Calling the file",e)}))}},{key:"onFileDownload",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("files being Downloaded.."),n=this.props.uname,a="Admin"==n?t:n+"/"+t,e.next=5,m.a.get("http://54.82.44.30:5000/downloadFile/"+a).then((function(e){console.log(e.data),Object(v.saveAs)("https://"+e.data,t)})).catch((function(e){console.error("There was an error!",e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onFileDelete",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,s=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Delete File"),n=this.props.uname,a="Admin"==n?t:n+"/"+t,e.next=5,m.a.get("http://54.82.44.30:5000/deleteFile/"+a).then((function(e){console.log(e),s.getFiles()})).catch((function(e){console.error("There was an error!, In the deletefile opp",e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,a=t<0?0:t,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,i)).toFixed(a))+" "+s[i]}return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("br",{}),Object(S.jsx)("h1",{children:"Welcome to S3 File Storage Solutions"}),this.state.data?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("input",{type:"file",onChange:this.onFileChange}),Object(S.jsx)("button",{className:"selectButton",onClick:this.onFileUpload,children:"Upload Files to S3"}),this.state.uploaded?Object(S.jsx)("p",{children:" Uploaded successfully "}):null]}),Object(S.jsx)("br",{}),Object(S.jsxs)(y.a,{className:"tableDesign",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"#"}),Object(S.jsx)("th",{children:"File Name"}),Object(S.jsx)("th",{children:"Date Modified"}),Object(S.jsx)("th",{children:"File Size"}),Object(S.jsx)("th",{children:"Download File"}),Object(S.jsx)("th",{children:"Delete File"})]})}),Object(S.jsx)("tbody",{children:this.state.data.map((function(n,a){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:a+1}),Object(S.jsx)("td",{children:n.Key}),Object(S.jsx)("td",{children:O()(n.LastModified).tz(e.state.timeZone).calendar()}),Object(S.jsx)("td",{children:t(n.Size)}),Object(S.jsx)("td",{children:Object(S.jsx)("button",{className:"selectButton",onClick:function(){return e.onFileDownload(n.Key)},children:"Download"})}),Object(S.jsx)("td",{children:Object(S.jsx)("button",{className:"selectButton",onClick:function(){return e.onFileDelete(n.Key)},children:"Delete"})}),e.state.deleted?Object(S.jsx)("p",{children:" Deleted successfully !"}):null]},n.ETag)}))})]}),Object(S.jsx)("br",{})]}):Object(S.jsx)(x.a,{type:"spin",color:"black"}),Object(S.jsx)("br",{})]})}}]),n}(a.Component),N=(n(56),n(57),function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={uname:"",pass:"",isLoggedIn:!1,signUp:!0,firstName:"",lastName:""},a.handleSubmitLogin=a.handleSubmitLogin.bind(Object(u.a)(a)),a.handleSubmitSignUp=a.handleSubmitSignUp.bind(Object(u.a)(a)),a.handleUName=a.handleUName.bind(Object(u.a)(a)),a.handlePass=a.handlePass.bind(Object(u.a)(a)),a.handleUName2=a.handleUName2.bind(Object(u.a)(a)),a.handlePass2=a.handlePass2.bind(Object(u.a)(a)),a.handleSignUp=a.handleSignUp.bind(Object(u.a)(a)),a.handleFN=a.handleFN.bind(Object(u.a)(a)),a.handleLN=a.handleLN.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"handleUName",value:function(e){var t=this;this.setState({uname:e.target.value},(function(){return console.log(t.state.uname)}))}},{key:"handlePass",value:function(e){this.setState({pass:e.target.value})}},{key:"handleUName2",value:function(e){var t=this;this.setState({uname:e.target.value},(function(){return console.log(t.state.uname)}))}},{key:"handlePass2",value:function(e){this.setState({pass:e.target.value})}},{key:"handleFN",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleLN",value:function(e){this.setState({lastName:e.target.value})}},{key:"handleSignUp",value:function(e){this.setState({signUp:!this.state.signUp})}},{key:"handleSubmitLogin",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={uname:this.state.uname,pass:this.state.pass},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},fetch("http://54.82.44.30:5000/authenticate",n).then((function(e){return e.json()})).then((function(e){e.status&&a.setState({isLoggedIn:!0})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmitSignUp",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={uname:this.state.uname,pass:this.state.pass,firstName:this.state.firstName,lastName:this.state.lastName},console.log(t),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},fetch("http://54.82.44.30:5000/register",n).then((function(e){return e.json()})).then((function(e){e.status&&a.setState({isLoggedIn:!0})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.isLoggedIn,t=this.state.signUp;return Object(S.jsx)("div",{children:e?Object(S.jsx)(F,{uname:this.state.uname}):Object(S.jsxs)("div",{children:[Object(S.jsx)("ul",{children:Object(S.jsx)("h1",{className:"headerDesign",children:"Welcome to S3 Storage Solutions!"})}),t?Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"loginbox",children:[Object(S.jsx)("h1",{children:"Login Page"}),Object(S.jsx)("p",{children:" User name "}),Object(S.jsx)("input",{type:"text",name:"uname",id:"uname",placeholder:"Enter the user name to login",onChange:this.handleUName,required:!0}),Object(S.jsx)("p",{children:" Password"}),Object(S.jsx)("input",{type:"password",name:"pass",id:"pass",placeholder:"Enter your password",onChange:this.handlePass,required:!0}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{type:"submit",id:"login",name:"login",value:"Login",onClick:this.handleSubmitSignUp}),Object(S.jsx)("input",{type:"submit",id:"login",name:"login",value:"Sign Up",onClick:this.handleSignUp}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{})]})}):Object(S.jsxs)("div",{className:"signup",children:[Object(S.jsx)("h1",{children:"Sign Up as New User"}),Object(S.jsx)("p",{children:" First Name "}),Object(S.jsx)("input",{type:"text",name:"firstname",placeholder:"Please enter your First Name",onChange:this.handleFN,required:!0}),Object(S.jsx)("p",{children:" Last Name "}),Object(S.jsx)("input",{type:"text",name:"lastname",placeholder:"Please enter your Last Name",onChange:this.handleLN,required:!0}),Object(S.jsx)("p",{children:" Username "}),Object(S.jsx)("input",{type:"text",name:"uname2",id:"uname2",placeholder:"Please enter Username",onChange:this.handleUName2,required:!0}),Object(S.jsx)("p",{children:" Password"}),Object(S.jsx)("input",{type:"password",name:"pass2",id:"pass2",placeholder:"Please enter Password",onChange:this.handlePass2,required:!0}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{type:"submit",id:"signup",name:"signup",value:"Sign Up",onClick:this.handleSubmitSignUp}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{className:"loginbutton",onClick:this.handleSignUp,children:"Login"}),Object(S.jsx)("br",{})]})]})})}}]),n}(a.Component));l.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(N,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.cf38bb97.chunk.js.map